<<<<<<< HEAD
pie
}
ethnicity_piechart('M015')
esl_piechart <- function(bn) {
esl_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% English Language Learners`) %>%
separate(`% English Language Learners`, c("% English Language Learners", "v2"), "%") %>%
select(-v2) %>%
mutate(`% English Language Learners` = as.numeric(`% English Language Learners`),
`% non English Language Learners` = 100 -`% English Language Learners`) %>%
gather(key = "esl", value = "prop", -`School Name`) %>%
mutate(prop = as.numeric(prop))
pie = ggplot(esl_df, aes(x="", y=prop, fill=esl)) +
geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#2F4858", "#F6AE2D"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of English Language Learners")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
esl_piechart('M015')
total_enrollment_history_linechart <- function(bn) {
total_enrollment_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn) %>%
select(Year, `Total Enrollment`)
total_enrollment_plot <- total_enrollment_df %>% ggplot(aes(x = Year,y = `Total Enrollment`, group = 1)) +
geom_line()+
geom_point() +
#geom_smooth(method = "lm", se=TRUE, color="black")+
labs(title = "Total Enrollment from 2015 to 2019") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5, color = "#666666"))
total_enrollment_plot
}
total_enrollment_history_linechart('M015')
shiny::runApp('GitHub/Spring2020-Project2-group-6/app1')
runApp('GitHub/Spring2020-Project2-group-6/app1')
shiny::runApp()
library(ggplot2)
library(dplyr)
library(tidyr)
library(scales)
library(plyr)
library(ggrepel)
load('../output/demographic_by_school.RData')
load('../output/School_Survey17-19.RData')
gender_piechart <- function(bn) {
gender_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% Female`,`% Male`) %>%
gather(key = "gender", value = "value", -`School Name`) %>%
separate(value, c("prop", "v2"), "%") %>%
mutate(prop = as.numeric(prop)) %>%
select(-v2)
pie = ggplot(gender_df, aes(x="", y=prop, fill=gender)) +
geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#55DDE0", "#33658A"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of the Gender")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
ethnicity_piechart <- function(bn) {
ethnicity_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% Asian`,`% Black`, `% Hispanic`, `% White`, `% Multiple Race Categories Not Represented`) %>%
gather(key = "ethnicity", value = "value", -`School Name`) %>%
separate(value, c("prop", "v2"), "%") %>%
mutate(prop = as.numeric(prop)) %>%
select(-v2)
pie = ggplot(ethnicity_df, aes(x="", y=prop, fill=ethnicity)) + geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#55DDE0", "#33658A", "#2F4858", "#F6AE2D", "#F26419"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of the Ethnicity")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
esl_piechart <- function(bn) {
esl_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% English Language Learners`) %>%
separate(`% English Language Learners`, c("% English Language Learners", "v2"), "%") %>%
select(-v2) %>%
mutate(`% English Language Learners` = as.numeric(`% English Language Learners`),
`% non English Language Learners` = 100 -`% English Language Learners`) %>%
gather(key = "esl", value = "prop", -`School Name`) %>%
mutate(prop = as.numeric(prop))
pie = ggplot(esl_df, aes(x="", y=prop, fill=esl)) +
geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#2F4858", "#F6AE2D"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of English Language Learners")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
total_enrollment_history_linechart <- function(bn) {
total_enrollment_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn) %>%
select(Year, `Total Enrollment`)
total_enrollment_plot <- total_enrollment_df %>% ggplot(aes(x = Year,y = `Total Enrollment`, group = 1)) +
geom_line()+
geom_point() +
labs(title = "Total Enrollment from 2015 to 2019") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5, color = "#666666"))
total_enrollment_plot
}
View(SS)
load("/Users/kexinsu/Documents/GitHub/Spring2020-Project2-group-6/output/QR_1519_rename.RData")
View(QR_1519_rename)
SS
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(BN=str_extract(DBN, '[A-Z]+'))
library(dplyr)
SS_17 <- read_csv('../data/School Survey 2017.csv')
library(shiny)
library(choroplethr)
library(dplyr)
library(leaflet)
library(maps)
library(rgdal)
library(stringr)
library(shinydashboard)
library(tidyverse)
library(tidyr)
library(naniar)
SS_17 <- read_csv('../data/School Survey 2017.csv')
SS_18 <- read_csv('../data/School Survey 2018.csv')
SS_19 <- read_csv('../data/School Survey 2019.csv')
SS_17 <- SS_17%>%select(DBN,`School Name`,`Collaborative Teachers Score`:`Trust Score`)%>%
replace_with_na_all(condition = ~.x=='N/A')%>%
filter_all(any_vars(!is.na(.)))%>%
rename('17 Collaborative Teachers Score'='Collaborative Teachers Score',
'17 Effective School Leadership Score'=
'Effective School Leadership Score',
'17 Rigorous Instruction Score'='Rigorous Instruction Score',
'17 Supportive Environment Score'='Supportive Environment Score',
'17 Strong Family-Community Ties Score'=
'Strong Family-Community Ties Score',
'17 Trust Score'='Trust Score')
SS_18 <- SS_18%>%select(DBN,`Collaborative Teachers Score`:`Trust Score`)%>%
replace_with_na_all(condition = ~.x=='N/A')%>%
filter_all(any_vars(!is.na(.)))%>%
rename('18 Collaborative Teachers Score'='Collaborative Teachers Score',
'18 Effective School Leadership Score'=
'Effective School Leadership Score',
'18 Rigorous Instruction Score'='Rigorous Instruction Score',
'18 Supportive Environment Score'='Supportive Environment Score',
'18 Strong Family-Community Ties Score'=
'Strong Family-Community Ties Score',
'18 Trust Score'='Trust Score')
SS_19 <- SS_19%>%select(DBN,`Collaborative Teachers Score`:`Trust Score`)%>%
replace_with_na_all(condition = ~.x=='N/A')%>%
filter_all(any_vars(!is.na(.)))%>%
rename('19 Collaborative Teachers Score'='Collaborative Teachers Score',
'19 Effective School Leadership Score'=
'Effective School Leadership Score',
'19 Rigorous Instruction Score'='Rigorous Instruction Score',
'19 Supportive Environment Score'='Supportive Environment Score',
'19 Strong Family-Community Ties Score'=
'Strong Family-Community Ties Score',
'19 Trust Score'='Trust Score')
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(BN=str_extract(DBN, '[A-Z]+'))
load('../output/School_Locations.RData')
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(BN=str_extract(DBN, '[A-Z]+'))
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(DBN=str_extract(DBN, '[A-Z]{0,9}'))
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(DBN=str_extract(DBN, '[A-Z][0-9]'))
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(DBN=str_extract(DBN, '[A-Z][0-9][0-9][0-9]'))
SS <- SS_17%>%inner_join(SS_18,by='DBN')%>%
inner_join(SS_19,by='DBN')%>%inner_join(select(SL,DBN),by='DBN')%>%
mutate(DBN=str_extract(DBN, '[A-Z][0-9][0-9][0-9]'))%>%rename('BN'='DBN')
save(SS, file="../output/School_Survey17-19.RData")
load("/Users/kexinsu/Documents/GitHub/Spring2020-Project2-group-6/output/School_Survey17-19.RData")
library(ggplot2)
library(dplyr)
library(tidyr)
library(scales)
library(plyr)
library(ggrepel)
load('../output/demographic_by_school.RData')
load('../output/School_Survey17-19.RData')
gender_piechart <- function(bn) {
gender_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% Female`,`% Male`) %>%
gather(key = "gender", value = "value", -`School Name`) %>%
separate(value, c("prop", "v2"), "%") %>%
mutate(prop = as.numeric(prop)) %>%
select(-v2)
pie = ggplot(gender_df, aes(x="", y=prop, fill=gender)) +
geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#55DDE0", "#33658A"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of the Gender")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
ethnicity_piechart <- function(bn) {
ethnicity_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% Asian`,`% Black`, `% Hispanic`, `% White`, `% Multiple Race Categories Not Represented`) %>%
gather(key = "ethnicity", value = "value", -`School Name`) %>%
separate(value, c("prop", "v2"), "%") %>%
mutate(prop = as.numeric(prop)) %>%
select(-v2)
pie = ggplot(ethnicity_df, aes(x="", y=prop, fill=ethnicity)) + geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#55DDE0", "#33658A", "#2F4858", "#F6AE2D", "#F26419"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of the Ethnicity")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
esl_piechart <- function(bn) {
esl_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn & Year == max(Year)) %>%
select(`% English Language Learners`) %>%
separate(`% English Language Learners`, c("% English Language Learners", "v2"), "%") %>%
select(-v2) %>%
mutate(`% English Language Learners` = as.numeric(`% English Language Learners`),
`% non English Language Learners` = 100 -`% English Language Learners`) %>%
gather(key = "esl", value = "prop", -`School Name`) %>%
mutate(prop = as.numeric(prop))
pie = ggplot(esl_df, aes(x="", y=prop, fill=esl)) +
geom_bar(stat="identity", width=1)
pie = pie + coord_polar("y", start=0) + geom_text_repel(aes(label = paste0(round(prop), "%")), position = position_stack(vjust = 0.5))
pie = pie + scale_fill_manual(values=c("#2F4858", "#F6AE2D"))
pie = pie + labs(x = NULL, y = NULL, fill = NULL, title = "Percentages of English Language Learners")
pie = pie + theme_classic() + theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666"))
pie
}
total_enrollment_history_linechart <- function(bn) {
total_enrollment_df <- demographic_by_school %>%
group_by(`School Name`) %>%
filter (BN == bn) %>%
select(Year, `Total Enrollment`)
total_enrollment_plot <- total_enrollment_df %>% ggplot(aes(x = Year,y = `Total Enrollment`, group = 1)) +
geom_line()+
geom_point() +
labs(title = "Total Enrollment from 2015 to 2019") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5, color = "#666666"))
total_enrollment_plot
}
school_survey_linechart <- function(bn){
trust <-
}
ss <- SS%>%filter(BN=='k001')
ss <- SS%>%filter(BN=='K001')
trust <- c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`)
trust
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust
plot(trust,c(1:5))
year <- c('2017','2018','2019')
trust_plt <- plot(year,trust)
trust_plt <- plot(year,trust,xlim=c(1:5))
trust_plt <- plot(year,trust,xlim=1:5)
trust_plt <- plot(year,trust,xlim=c(1,5))
trust_plt <- plot(year,trust,ylim=c(1,5))
year <- c(2017,2018,2019)
trust_plt <- plot(year,trust,ylim=c(1,5))
trust_plt <- plot(toString(year),trust,ylim=c(1,5))
year <- c('2017','2018','2019')
year
trust_plt <- plot(year,trust,ylim=c(1,5))
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(year,trust,ylim=c(1,5))
trust <- as.integer(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(year,trust,ylim=c(1,5))
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
year <- as.integer(c(2017,2018,2019))
trust_plt <- plot(year,trust,ylim=c(1,5))
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(year,trust,ylim=c(1,5))
trust_plt <- plot(year,trust,ylim=c(1,5),xlim=c(2017,2019))
trust_plt <- plot(year,trust,ylim=c(1,5),xlim=c(2017,2019))
trust_plt <- plot(round(year,0),trust,ylim=c(1,5))
year <- c(2017,2018,2019)
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(round(year,0),trust,ylim=c(1,5))
round(year,0)
ss <- SS%>%filter(BN=='K001')
year <- c(2017,2018,2019)
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(round(year,0),trust,ylim=c(1,5))
trust_plt <- plot(round(year,0),trust,ylim=c(1,5))
trust_plt <- plot(round(year,0),trust,ylim=c(1,5))
year <- c(2017,2018,2019)
trust_plt <- plot(round(year,0),trust,ylim=c(1,5))
trust_plt <- plot(year,trust,ylim=c(1,5))
year <- c('2017','2018','2019')
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(year,trust,ylim=c(1,5))
year <- c(2017,2018,2019)
cbind(ss,year)
cbind(trust,year)
ggplot(aes(x=year,y=trust))+geom_line()
hi <- cbind(trust,year)
hi
ggplot(hi,aes(x=year,y=trust))+geom_line()
hi <- cbind(trust,year)
ggplot(hi,aes(x=year,y=trust))+geom_line()
hi <- as.dataframe(cbind(trust,year))
hi <- as.tibble(cbind(trust,year))
hi <- as_tibble(cbind(trust,year))
ggplot(hi,aes(x=year,y=trust))+geom_line()
year <- c('2017','2018','2019')
hi <- as_tibble(cbind(trust,year))
trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust))+geom_line()
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
hi <- as_tibble(cbind(trust,year))
trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust))+geom_line()
#trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust))+geom_point()
#trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust))+geom_line()
#trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust,group=1))+geom_line()
#trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust,group=1))+geom_line()+geom_point()
#trust_plt <- plot(year,trust,ylim=c(1,5))
ggplot(hi,aes(x=year,y=trust,group=1))+geom_line()+geom_point()+theme_light()
year <- c('2017','2018','2019')
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
trust_plt <- plot(year,trust,ylim=c(1,5))
trust_plt
trust_plt <- plot(year,trust,ylim=c(1,5))
plot(year,trust,ylim=c(1,5))
trust <- as_tibble(cbind(as.numeric(
c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`)),c('2017','2018','2019')))
trust
trust_score_linechart('K001')
trust_score_linechart <- function(bn){
ss <- SS%>%filter(BN==bn)
year <- c('2017','2018','2019')
trust <- as.numeric(c(ss$`17 Trust Score`,ss$`18 Trust Score`,ss$`19 Trust Score`))
tr <- as_tibble(cbind(year,trust))
ggplot(tr,aes(x=year,y=trust,group=1))+geom_line()+geom_point()+theme_light()
}
trust_score_linechart('K001')
runApp()
shiny::runApp()
runApp()
shinyUI(
dashboardPage(
dashboardHeader(title = "School dashboard"),
dashboardSidebar(
sidebarMenu(
menuItem("Dashboard", tabName = "menuDash", icon = icon("dashboard")),
menuItem("Map", tabName = "menuMap", icon = icon("map")),
menuItem("Stat", tabName = "menuChart", icon = icon("chart-line")),
menuItem("Data", tabName = "menudata", icon = icon("table"))
)
),
dashboardBody(
tabItems(
tabItem(tabName = "menuDash",h2("tab content"),
),
tabItem(tabName = 'menuMap', splitLayout(cellWidths = c("40%", "60%"),
box(width=12,
checkboxGroupInput("click_school_type", "school Types",
choices =c('Elementary','High school','Junior High-Intermediate-Middle','K-8'),
selected =c('Elementary','High school','Junior High-Intermediate-Middle','K-8')),
checkboxGroupInput("click_school_type", "school Types",
choices =c('Elementary','High school','Junior High-Intermediate-Middle','K-8'),
selected =c('Elementary','High school','Junior High-Intermediate-Middle','K-8')),
h2("result")),
leafletOutput("map",width="100%",height=800))
),
tabItem(tabName = "menuChart",
fluidRow(imageOutput("statimage1")),
fluidRow(box(width=6,textInput("statinput1","Enter Name")),
box(width=6,textInput("statinput2","Enter Name")))),
tabItem(tabName = "menudata",
dataTableOutput('tableschool'))
)
)
))
shinyUI(
dashboardPage(
dashboardHeader(title = "School dashboard"),
dashboardSidebar(
sidebarMenu(
menuItem("Dashboard", tabName = "menuDash", icon = icon("dashboard")),
menuItem("Map", tabName = "menuMap", icon = icon("map")),
menuItem("Stat", tabName = "menuChart", icon = icon("chart-line")),
menuItem("Data", tabName = "menudata", icon = icon("table"))
)
),
dashboardBody(
tabItems(
tabItem(tabName = "menuDash",h2("tab content"),),
tabItem(tabName = 'menuMap', splitLayout(cellWidths = c("40%", "60%"),
box(width=12,
checkboxGroupInput("click_school_type", "school Types",
choices =c('Elementary','High school','Junior High-Intermediate-Middle','K-8'),
selected =c('Elementary','High school','Junior High-Intermediate-Middle','K-8')),
checkboxGroupInput("click_school_type", "school Types",
choices =c('Elementary','High school','Junior High-Intermediate-Middle','K-8'),
selected =c('Elementary','High school','Junior High-Intermediate-Middle','K-8')),
h2("result")),
leafletOutput("map",width="100%",height=800))
),
tabItem(tabName = "menuChart",
fluidRow(imageOutput("statimage1")),
fluidRow(box(width=6,textInput("statinput1","Enter Name")),
box(width=6,textInput("statinput2","Enter Name")))),
tabItem(tabName = "menudata",
dataTableOutput('tableschool'))
)
)
))
getwd()
runApp()
shinyUI(
dashboardPage(
dashboardHeader(title = "School dashboard"),
dashboardSidebar(
sidebarMenu(
menuItem("Dashboard", tabName = "menuDash", icon = icon("dashboard")),
menuItem("Map", tabName = "menuMap", icon = icon("map")),
menuItem("Stat", tabName = "menuChart", icon = icon("chart-line")),
menuItem("Data", tabName = "menudata", icon = icon("table"))
)
),
dashboardBody(
tabItems(
tabItem(tabName = "menuDash",fluidPage(
fluidRow(
box(background='orange',width = 15, title = "Introduction", status = "warning",
solidHeader = TRUE, h3("NYC Shooting Crime Map"),
h4("By Weijia Bao, Kanyan Chen, Tiantian Chu, Chang Xu, Qingyu Zhang"),
h5("In America, which has one of the highest rates of gun homicide in the world, cities experience gun violence at very high rates.  And urban gun violence touches on issues central to American life : safety, equality, opportunity and community. Residents and leaders of America’s cities face few challenges more urgent than gun violence. It takes thousands of lives, depresses the quality of life of whole neighborhoods, drives people to move away, and reduces cities’ attractiveness for newcomers. It makes it harder for schools, businesses, and community institutions to thrive. Urban gun violence also reflects and worsens America’s existing racial and economic disparities. So gun violence is a very severe situation to America, especially to big cities, like New York City."),
h5("Our shiny app is about Shooting Crime Map in NYC, we aim at two types of customers: Residents and Police Departments. For residents, they can use our app to check the shooting crimes in different neighborhoods of New York, providing a good way to find a safer place to live and work. For police departments, we can assist them to reduce crime through a better-informed citizenry. Creating more self-reliance among community members is a great benefit to community oriented policing efforts everywhere and has been proven effective in combating crime."),
h5("Then, please follow me to use this app!"))),
fluidRow(box(width = 15, title = "User Guide", status = "warning",
solidHeader = TRUE, h3("What Does This Map Do?"),
tags$div(tags$ul(
tags$li("Animation: This part contains a heatmap and a time series graph, and they are linked with each other. The x-axis of time series graph and the adjustable bar of heatmap represent the 24 hours of a day, and y-axis of time series graph represents the total count number of shooting crimes for the whole 13 years (2006-2018). The darker of the heatmap, the more shooting crimes happened."),
tags$li("Maps: This part is our search map. There are six filters in total: Boroughs, Start Date, End Date, Race, Gender and Age. Users can select their own choice to understand the shooting crimes in their chosen areas. For example, Amy, a 24 years-old Black girl. She’s going to New York to work, but she has never been to New York. Then she can use our map to find places where she thinks safe to live in. Besides, for different boroughs, we have different pie charts for Race, Gender and Age, which could help users understand the situations in these boroughs more intuitively."),
tags$li("Report: We have nine graphs for this part in total: Interactive pie-bar charts for different boroughs, Shooting Counts by Year, Season, Week, Boroughs, Murder or not, Race, Age and Gender. All these nine graphs help police departments to better understand the specific factors that drive gun violence."),
tags$li("Holidays: This part is our interesting finding. We found that on the day of holiday, there were more shooting crimes than other days. There are four holidays users can choose: Independence Day, Halloween, Christmas Day and New Year’s Day. For example, on Christmas Day of 2017, there were 7 shootings in NYC, this was the day with the most shootings from Dec 20, 2017 to Dec 31, 2017. This finding could help police departments to better distribute the polices in important holidays.")
))))
)
),
tabItem(tabName = 'menuMap', splitLayout(cellWidths = c("40%", "60%"),
box(width=12,
checkboxGroupInput("click_school_type", "school Types",
choices =c('Elementary','High school','Junior High-Intermediate-Middle','K-8'),
selected =c('Elementary','High school','Junior High-Intermediate-Middle','K-8')),
checkboxGroupInput("click_school_type", "school Types",
choices =c('Elementary','High school','Junior High-Intermediate-Middle','K-8'),
selected =c('Elementary','High school','Junior High-Intermediate-Middle','K-8')),
h2("result")),
leafletOutput("map",width="100%",height=800))
),
tabItem(tabName = "menuChart",
fluidRow(imageOutput("statimage1")),
fluidRow(box(width=6,textInput("statinput1","Enter Name")),
box(width=6,textInput("statinput2","Enter Name")))),
tabItem(tabName = "menudata",
dataTableOutput('tableschool'))
)
)
))
runApp()
runApp()
runApp()
=======
shiny::runApp('~/GitHub/Spring2020-Project2-group-6/app1')
>>>>>>> 2965b1b8ad6e73167da663a48e1f709be3d10886
